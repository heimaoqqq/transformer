# ğŸ¨ å¾®å¤šæ™®å‹’æ—¶é¢‘å›¾ç”Ÿæˆç³»ç»Ÿ

åŸºäºæ·±åº¦å­¦ä¹ çš„å¾®å¤šæ™®å‹’æ—¶é¢‘å›¾ç”Ÿæˆç³»ç»Ÿï¼Œæä¾›ä¸¤ç§ä¸åŒçš„æŠ€æœ¯æ–¹æ¡ˆã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
micro-doppler-generation/
â”œâ”€â”€ vae_diffusion/             # VAE + æ‰©æ•£æ¨¡å‹æ–¹æ¡ˆ
â”‚   â”œâ”€â”€ training/             # è®­ç»ƒè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ train_vae.py     # VAEè®­ç»ƒ
â”‚   â”‚   â””â”€â”€ train_diffusion.py # æ‰©æ•£æ¨¡å‹è®­ç»ƒ
â”‚   â”œâ”€â”€ inference/            # æ¨ç†è„šæœ¬
â”‚   â”‚   â””â”€â”€ generate.py      # æ¡ä»¶ç”Ÿæˆ
â”‚   â”œâ”€â”€ validation/           # éªŒè¯æ¡†æ¶
â”‚   â”‚   â”œâ”€â”€ metric_learning_validator.py # åº¦é‡å­¦ä¹ éªŒè¯
â”‚   â”‚   â”œâ”€â”€ statistical_validator.py     # ç»Ÿè®¡éªŒè¯
â”‚   â”‚   â”œâ”€â”€ user_classifier.py           # ç”¨æˆ·åˆ†ç±»å™¨
â”‚   â”‚   â””â”€â”€ validation_pipeline.py       # éªŒè¯æµæ°´çº¿
â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ data_loader.py   # æ•°æ®åŠ è½½å™¨
â”‚   â”‚   â””â”€â”€ metrics.py       # è¯„ä¼°æŒ‡æ ‡
â”‚   â”œâ”€â”€ train_celeba_standard.py # æ ‡å‡†è®­ç»ƒè„šæœ¬
â”‚   â”œâ”€â”€ train_diffusion_memory_optimized.py # å†…å­˜ä¼˜åŒ–è®­ç»ƒ
â”‚   â”œâ”€â”€ train_improved_quality.py # é«˜è´¨é‡è®­ç»ƒ
â”‚   â”œâ”€â”€ check_vae.py         # VAEè´¨é‡æ£€æŸ¥
â”‚   â”œâ”€â”€ requirements.txt     # ä¾èµ–ç®¡ç†
â”‚   â””â”€â”€ README.md            # VAEæ–¹æ¡ˆè¯¦ç»†è¯´æ˜
â”œâ”€â”€ vqvae_transformer/         # VQ-VAE + Transformeræ–¹æ¡ˆ
â”‚   â”œâ”€â”€ models/               # æ¨¡å‹å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ vqvae_model.py   # é˜²åç¼©VQ-VAE
â”‚   â”‚   â””â”€â”€ transformer_model.py # æ¡ä»¶Transformer
â”‚   â”œâ”€â”€ training/             # è®­ç»ƒè„šæœ¬
â”‚   â”‚   â”œâ”€â”€ train_vqvae.py   # VQ-VAEè®­ç»ƒ
â”‚   â”‚   â””â”€â”€ train_transformer.py # Transformerè®­ç»ƒ
â”‚   â”œâ”€â”€ inference/            # æ¨ç†è„šæœ¬
â”‚   â”‚   â””â”€â”€ generate.py      # å›¾åƒç”Ÿæˆ
â”‚   â”œâ”€â”€ validation/           # éªŒè¯æ¡†æ¶
â”‚   â”‚   â””â”€â”€ validator.py     # ä¸“ç”¨éªŒè¯å™¨
â”‚   â”œâ”€â”€ utils/                # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ data_loader.py   # æ•°æ®åŠ è½½å™¨
â”‚   â”‚   â””â”€â”€ metrics.py       # è¯„ä¼°æŒ‡æ ‡
â”‚   â”œâ”€â”€ train_main.py         # ä¸»è®­ç»ƒè„šæœ¬
â”‚   â”œâ”€â”€ generate_main.py      # ä¸»ç”Ÿæˆè„šæœ¬
â”‚   â”œâ”€â”€ validate_main.py      # ä¸»éªŒè¯è„šæœ¬
â”‚   â”œâ”€â”€ setup_environment.py # ç»Ÿä¸€ç¯å¢ƒå®‰è£…å™¨
â”‚   â”œâ”€â”€ check_environment.py # ç¯å¢ƒæ£€æŸ¥å™¨
â”‚   â”œâ”€â”€ requirements.txt     # ç‹¬ç«‹ä¾èµ–ç®¡ç†
â”‚   â””â”€â”€ README.md            # VQ-VAEæ–¹æ¡ˆè¯¦ç»†è¯´æ˜
â””â”€â”€ README.md                 # æœ¬æ–‡ä»¶
```

## ğŸ¯ ä¸¤ç§æ–¹æ¡ˆå¯¹æ¯”

| ç‰¹æ€§ | VAE + æ‰©æ•£æ¨¡å‹ | VQ-VAE + Transformer |
|------|---------------|---------------------|
| **ç”Ÿæˆè´¨é‡** | â­â­â­â­â­ | â­â­â­â­ |
| **ç”¨æˆ·ç‰¹å¾ä¿æŒ** | â­â­â­â­â­ | â­â­â­â­ |
| **è®­ç»ƒé€Ÿåº¦** | â­â­ | â­â­â­â­ |
| **GPUå†…å­˜éœ€æ±‚** | 15GB+ | 8GB+ |
| **å°æ•°æ®é€‚åº”æ€§** | â­â­â­ | â­â­â­â­â­ |
| **ç”Ÿæˆé€Ÿåº¦** | â­â­ (å¤šæ­¥å»å™ª) | â­â­â­â­â­ (ä¸€æ¬¡å‰å‘) |
| **æŠ€æœ¯æˆç†Ÿåº¦** | â­â­â­â­â­ | â­â­â­â­ |
| **ç¯å¢ƒå…¼å®¹æ€§** | â­â­â­ | â­â­â­â­â­ |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹æ¡ˆ1: VAE + æ‰©æ•£æ¨¡å‹ (é«˜è´¨é‡)
```bash
# è¿›å…¥VAEé¡¹ç›®ç›®å½•
cd vae_diffusion

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å¼€å§‹è®­ç»ƒ
python train_celeba_standard.py \
    --data_dir "/kaggle/input/dataset" \
    --output_dir "/kaggle/working/outputs/vae_diffusion" \
    --resolution 128 \
    --num_users 31
```

### æ–¹æ¡ˆ2: VQ-VAE + Transformer (é«˜æ•ˆç‡)
```bash
# è¿›å…¥VQ-VAEé¡¹ç›®ç›®å½•
cd vqvae_transformer

# ä¸€é”®å®‰è£…ç¯å¢ƒ (é‡è¦!)
python setup_environment.py

# éªŒè¯ç¯å¢ƒ
python check_environment.py

# å¼€å§‹è®­ç»ƒ
python train_main.py \
    --data_dir "/kaggle/input/dataset" \
    --output_dir "/kaggle/working/outputs/vqvae_transformer" \
    --resolution 128 \
    --codebook_size 1024 \
    --num_users 31
```

## ğŸ“Š æ–¹æ¡ˆé€‰æ‹©å»ºè®®

### ğŸ¯ é€‰æ‹©VAE + æ‰©æ•£æ¨¡å‹ï¼Œå¦‚æœä½ ï¼š
- âœ… **è¿½æ±‚æœ€é«˜è´¨é‡**: éœ€è¦æœ€ä½³çš„ç”Ÿæˆè´¨é‡
- âœ… **GPUå†…å­˜å……è¶³**: æœ‰15GB+çš„GPUå†…å­˜
- âœ… **æ•°æ®é‡è¾ƒå¤§**: æ¯ç”¨æˆ·æœ‰1000+æ ·æœ¬
- âœ… **æ—¶é—´å……è£•**: å¯ä»¥æ¥å—è¾ƒé•¿çš„è®­ç»ƒæ—¶é—´
- âœ… **æŠ€æœ¯æˆç†Ÿ**: å¸Œæœ›ä½¿ç”¨æˆç†Ÿç¨³å®šçš„æŠ€æœ¯

### ğŸš€ é€‰æ‹©VQ-VAE + Transformerï¼Œå¦‚æœä½ ï¼š
- âœ… **GPUå†…å­˜æœ‰é™**: åªæœ‰8-16GB GPUå†…å­˜
- âœ… **æ•°æ®é‡è¾ƒå°**: æ¯ç”¨æˆ·å°‘äº500æ ·æœ¬
- âœ… **å¿«é€Ÿè¿­ä»£**: éœ€è¦å¿«é€Ÿè®­ç»ƒå’Œç”Ÿæˆ
- âœ… **ç²¾ç¡®æ§åˆ¶**: å¸Œæœ›æ›´å¥½çš„ç”¨æˆ·ç‰¹å¾æ§åˆ¶
- âœ… **ç¯å¢ƒå‹å¥½**: éœ€è¦æ›´å¥½çš„ç¯å¢ƒå…¼å®¹æ€§

## ğŸ”§ ç¯å¢ƒè¦æ±‚

### é€šç”¨è¦æ±‚
- **Python**: 3.8+
- **PyTorch**: 2.1.0+
- **CUDA**: 11.8+ (æ¨è)

### VAE + æ‰©æ•£æ¨¡å‹
- **GPUå†…å­˜**: 15GB+ (æ¨èP100/V100/A100)
- **è®­ç»ƒæ—¶é—´**: é•¿ (æ•°å°æ—¶åˆ°æ•°å¤©)
- **ä¾èµ–**: diffusers, transformers, accelerate

### VQ-VAE + Transformer  
- **GPUå†…å­˜**: 8GB+ (T4å³å¯)
- **è®­ç»ƒæ—¶é—´**: ä¸­ç­‰ (1-3å°æ—¶)
- **ä¾èµ–**: è‡ªåŠ¨ç¯å¢ƒç®¡ç†ï¼Œç¡®ä¿å…¼å®¹æ€§

## ğŸ¨ ç”Ÿæˆæ•ˆæœé¢„æœŸ

### VAE + æ‰©æ•£æ¨¡å‹
- **FIDåˆ†æ•°**: < 50
- **ISåˆ†æ•°**: > 2.0
- **ç”¨æˆ·åˆ†ç±»å‡†ç¡®ç‡**: > 85%
- **ç”Ÿæˆå¤šæ ·æ€§**: é«˜

### VQ-VAE + Transformer
- **ç æœ¬åˆ©ç”¨ç‡**: > 80%
- **ç”¨æˆ·åŒºåˆ†åº¦**: æ¯ç”¨æˆ·20+ç‹¬ç‰¹å‘é‡
- **ç”Ÿæˆé€Ÿåº¦**: æ¯”æ‰©æ•£æ¨¡å‹å¿«5-10å€
- **ç”¨æˆ·ç‰¹å¾ä¿æŒ**: ä¼˜ç§€

## ğŸ” æ•…éšœæ’é™¤

### ç¯å¢ƒé—®é¢˜
```bash
# VQ-VAEé¡¹ç›®ç¯å¢ƒé—®é¢˜
cd vqvae_transformer
python check_environment.py  # æ£€æŸ¥ç¯å¢ƒ
python setup_environment.py  # é‡è£…ç¯å¢ƒ

# VAEé¡¹ç›®ç¯å¢ƒé—®é¢˜
cd vae_diffusion
python check_vae.py         # æ£€æŸ¥VAE
python ultimate_fix_kaggle.py # ä¿®å¤Kaggleç¯å¢ƒ
```

### è®­ç»ƒé—®é¢˜
- **å†…å­˜ä¸è¶³**: é™ä½batch_sizeæˆ–ä½¿ç”¨æ¢¯åº¦ç´¯ç§¯
- **ç”Ÿæˆè´¨é‡å·®**: è°ƒæ•´å­¦ä¹ ç‡å’Œè®­ç»ƒè½®æ•°
- **ç”¨æˆ·ç‰¹å¾ä¸æ˜æ˜¾**: å¢åŠ æ¡ä»¶æƒé‡æˆ–ç”¨æˆ·åµŒå…¥ç»´åº¦

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- [VAE + æ‰©æ•£æ¨¡å‹è¯¦ç»†è¯´æ˜](vae_diffusion/README.md)
- [VQ-VAE + Transformerè¯¦ç»†è¯´æ˜](vqvae_transformer/README.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäºå¼€æºæ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œéµå¾ªç›¸åº”çš„è®¸å¯è¯ã€‚

---

**ğŸ¯ æ¨èä½¿ç”¨æµç¨‹**:
1. å¦‚æœæ˜¯æ–°æ‰‹æˆ–GPUå†…å­˜æœ‰é™ï¼Œå…ˆå°è¯• **VQ-VAE + Transformer**
2. å¦‚æœè¿½æ±‚æœ€é«˜è´¨é‡ä¸”èµ„æºå……è¶³ï¼Œä½¿ç”¨ **VAE + æ‰©æ•£æ¨¡å‹**
3. ä¸¤ç§æ–¹æ¡ˆéƒ½å¯ä»¥å¹¶è¡Œå¼€å‘å’Œæ¯”è¾ƒæ•ˆæœ
